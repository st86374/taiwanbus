(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["busStopInfp"],{"0694":function(t,e,n){},"06f4":function(t,e,n){"use strict";var o=n("7a23"),c={class:"bus-info-card list-item"},u={class:"bus-name"},s={class:"bus-way-time"},r={class:"way"},a={class:"time"};function i(t,e,n,i,l,b){var p,g,j,f;return Object(o["v"])(),Object(o["g"])("div",c,[Object(o["h"])("div",u,Object(o["D"])(null===(g=null===(p=t.routeInfo)||void 0===p?void 0:p.RouteName)||void 0===g?void 0:g.Zh_tw),1),Object(o["h"])("div",s,[Object(o["h"])("div",r,Object(o["D"])(t.routeInfo.DepartureStopNameZh)+" - "+Object(o["D"])(t.routeInfo.DestinationStopNameZh),1),Object(o["h"])("div",a,Object(o["D"])(null===(j=t.routeInfo.SubRoutes[0])||void 0===j?void 0:j.FirstBusTime)+" - "+Object(o["D"])(null===(f=t.routeInfo.SubRoutes[0])||void 0===f?void 0:f.LastBusTime),1)])])}var l=Object(o["l"])({name:"BusInfoCard",props:{routeInfo:{type:Object,default:function(){return{}}}},setup:function(){return{}}}),b=(n("428c"),n("6b0d")),p=n.n(b);const g=p()(l,[["render",i]]);e["a"]=g},"3d72":function(t,e,n){"use strict";n("e5dc")},"428c":function(t,e,n){"use strict";n("b203")},"4d66":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPdSURBVHgB7ZtBUtRAFIbfawbdWRxh3LlRwhooYG2VDCdgbqCewPEGcAM8wYAXIIquCXiB8QSyx8mzE2gcAZOXTnfmJdPfhirSM1Bfdfrv13kBCAQCgUAgEAgsIggBePn18xYCDbSMoTayAkAJpXhwubX7qeyzCy0wE6cwHWkN249dJ4DR5ebux6LvWEiBZeJmoRSGRTOxBwtC/3S88kypfUR4B0h97txBRUP9Y3EF5uJ66i1SJi5b36qCUdHVzgr8RxxocfaLVaH0zgnM1zdIdZriMP9F7VWekqKrnRH4Nxho22U2EuJB0fXWC/QlzrCEvbjoeisF2iZqZZCOztdf/ywa0iqB9RO1GkjUjUqkaXE5SJOLjcHzsmGiZ6D7ROVDgCPOOJECfQcDgyt1nZ5wBooSKEDcDUjHyc7eFWfo3AU2lqgVwGs6ZI+FOTGXYGBBycXmYI07uvEZ6LBG9UJZ5XGfxv79B4kqEebWZRbvM1BMMPCIoSLeBLZMXI7C5RFUxKlAiYnKB+OyuvcxnAiUm6h8SB8cgAW1pkgXxOVYhIfBega++nayjylkkS9uK2JBDJZYCXxxOu7rWXfUlYeiNuFx91mw4OkSfoDOYBceBiuBejM8gI5gGx4GO4HQ4sCYRYfH5UZ5/0sRdgIJJtANYqiJlUBCHSAdoE543H0HWKB+p4c6gSfQauqFh8FKYHZai9fpTpsl1g0PQ+2dXHQ23k5BrWLeKpbVvxCBdGpUHg++CjwQfR9HMIV+irnYSJpYTuMkl8ZqiUjXzbruibLZqv+qrmRysZnUxrdESvX6Lta/jLkXY7Nib5cBz5t0OtbPPPbAEeKqWS20T8vqVN9nffBAqnDwY/0N65kvB5HHAbnEnjoH17e3w/Aw2JZyXtHbpIle6Cs9HePAbdeogkiBGUQYg2PKev1sECtwaTq9AJcwev1sECvwtjeF1Z/CgdPrZ4NYgTfQBFygwyPZ3IvBA7IFIiTgAB/hYRAtUAeJE4E+wsMgXeAE6uIpPAyiBbpIYl/hcff9IJzVs5NfYFuReKg87iM8hSFLAOutjM/wMMgXqCgGS3yGh0G8QErRbgZ6Dg+DfIGQWgWJ7/AwiBc4nVpspj1WHvcRL/AJVH/y10R4GMQLzA8VqnVCXDURHgb5KZyBFUo6pOMmwsPQCoFE/FOZKm8ZuaAlM5B7C1Oib3knBxBcWjIDeYcKVd8yckErBOpDhS+lg/TWhfuKqktaITBP4pJmID1Lj7ivqLqkHWsg5OHw/r9rIVLiqtelKq0ReNtSt5bPRCNS7w+zRiEtdwcCgUAgEAgEAoEG+QOG5Hz2+6ztYgAAAABJRU5ErkJggg=="},"742f":function(t,e,n){},abf1:function(t,e,n){"use strict";n.r(e);var o=n("7a23"),c=n("b94f"),u=n.n(c),s=n("eb22"),r=n.n(s),a=n("4020"),i=n.n(a),l=n("4d66"),b=n.n(l),p=n("ecf2"),g=n.n(p),j={class:"bus-stop-info"},f=Object(o["h"])("img",{src:u.a,alt:""},null,-1),O={class:"action-section__bus-number"},d={class:"info-section"},A={class:"info-section__name"},v=Object(o["h"])("img",{src:r.a,alt:"Share"},null,-1),h=Object(o["j"])(" 分享頁面 "),B=[v,h],m=Object(o["h"])("img",{src:i.a,alt:"Share"},null,-1),S=Object(o["j"])(" 分享頁面 "),w=[m,S],C=Object(o["h"])("img",{src:b.a,alt:"gps"},null,-1),y=Object(o["j"])(" 前往導航 "),I=[C,y],k={class:"stop-map-section"},R=Object(o["h"])("h3",null,"站牌位置",-1),Z={class:"map__container"},P={class:"map"},H={class:"route-list"},U=Object(o["h"])("h3",null,"站牌公車",-1),E={class:"route-list__container"},M={key:1},D={class:"bus-map-gps"},Y=Object(o["h"])("img",{src:g.a,alt:""},null,-1),G=Object(o["j"])(" 站牌地圖 "),Q=[Y,G],N=Object(o["h"])("img",{src:b.a,alt:""},null,-1),F=Object(o["j"])(" 前往導航 "),L=[N,F];function x(t,e,n,c,u,s){var r=Object(o["B"])("LoadingPage"),a=Object(o["B"])("HeaderBar"),i=Object(o["B"])("StopMap"),l=Object(o["B"])("BusInfoCard"),b=Object(o["B"])("BaseLayout"),p=Object(o["B"])("BusStopMapDialog");return Object(o["v"])(),Object(o["g"])(o["a"],null,[(Object(o["v"])(),Object(o["e"])(o["b"],{to:"body"},[t.isLoading?(Object(o["v"])(),Object(o["e"])(r,{key:0})):Object(o["f"])("",!0)])),Object(o["k"])(b,null,{header:Object(o["H"])((function(){return[Object(o["k"])(a)]})),body:Object(o["H"])((function(){return[Object(o["h"])("div",j,[Object(o["h"])("section",{class:"action-section",onClick:e[0]||(e[0]=function(e){return t.$router.back()})},[f,Object(o["h"])("div",O,Object(o["D"])(t.currentCityZhtw)+"｜"+Object(o["D"])(t.stopName),1)]),Object(o["h"])("section",d,[Object(o["h"])("div",A,Object(o["D"])(t.stopName),1),Object(o["h"])("div",{class:"info-section__share-button button mobile",onClick:e[1]||(e[1]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.sharePageInfo&&t.sharePageInfo.apply(t,e)})},B),Object(o["h"])("div",{class:"info-section__share-button button pc",onClick:e[2]||(e[2]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.sharePageInfo&&t.sharePageInfo.apply(t,e)})},w),Object(o["h"])("div",{class:"info-section__gps button pc",onClick:e[3]||(e[3]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.goUseGps&&t.goUseGps.apply(t,e)})},I)]),Object(o["h"])("section",k,[R,Object(o["h"])("div",Z,[Object(o["h"])("div",P,[Object(o["k"])(i,{currentBusStopPostion:t.currentBusStopPostion},null,8,["currentBusStopPostion"])])])]),Object(o["h"])("section",H,[U,Object(o["h"])("article",E,[t.busRoutes.length>0?(Object(o["v"])(!0),Object(o["g"])(o["a"],{key:0},Object(o["z"])(t.currentBusStopAllRoutesInfo,(function(e){return Object(o["v"])(),Object(o["e"])(l,{key:e.RouteUID,routeInfo:e,onClick:function(n){var o;return t.findBusRoute(null===(o=e.RouteName)||void 0===o?void 0:o.Zh_tw)}},null,8,["routeInfo","onClick"])})),128)):(Object(o["v"])(),Object(o["g"])("p",M,"未查詢到相關公車路線！"))])]),Object(o["h"])("section",D,[Object(o["h"])("div",{class:"bus-map-gps__map-button",onClick:e[4]||(e[4]=function(e){return t.isShowStopMap=!0})},Q),Object(o["h"])("div",{class:"bus-map-gps__gps-button",onClick:e[5]||(e[5]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.goUseGps&&t.goUseGps.apply(t,e)})},L)])])]})),_:1}),(Object(o["v"])(),Object(o["e"])(o["b"],{to:"body"},[t.isShowStopMap?(Object(o["v"])(),Object(o["e"])(p,{key:0,onClose:e[6]||(e[6]=function(e){return t.isShowStopMap=!1}),currentBusStopPostion:t.currentBusStopPostion},null,8,["currentBusStopPostion"])):Object(o["f"])("",!0)]))],64)}var X=n("9ab4"),q=n("6fea"),z=n("2107"),K=n("06f4"),J=n("f045"),V=n("6c02"),T=n("2265"),W={id:"stop-map"};function _(t,e,n,c,u,s){return Object(o["v"])(),Object(o["g"])("div",W)}var $=Object(o["l"])({name:"StopMap",props:{currentBusStopPostion:{type:Object,default:function(){return{}}}},setup:function(t){var e=Object(o["y"])(null),n=Object(o["y"])({lat:25.0325917,lng:121.5624999}),c=function(){n.value={lat:Number(t.currentBusStopPostion.lat),lng:Number(t.currentBusStopPostion.lng)},e.value=new window.google.maps.Map(document.getElementById("stop-map"),{center:n.value,zoom:15,maxZoom:20,minZoom:3,streetViewControl:!1,mapTypeControl:!1,disableDefaultUI:!0});new window.google.maps.Marker({position:n.value,map:e.value})};return Object(o["G"])((function(){return t.currentBusStopPostion}),(function(t){n.value={lat:Number(t.lat),lng:Number(t.lng)},c()})),{map:e}}}),tt=(n("aeb4"),n("6b0d")),et=n.n(tt);const nt=et()($,[["render",_]]);var ot=nt,ct=n("75e1"),ut=n.n(ct),st=n("cd5c"),rt=n.n(st),at={class:"stop-map-dialog"},it={class:"dialog__container"},lt=Object(o["h"])("section",{class:"map__container"},[Object(o["h"])("div",{id:"map"})],-1),bt={class:"dialog-footer"},pt=Object(o["h"])("img",{src:ut.a,alt:""},null,-1),gt=Object(o["j"])(" 前往導航 "),jt=[pt,gt],ft=Object(o["h"])("img",{src:rt.a,alt:""},null,-1),Ot=[ft];function dt(t,e,n,c,u,s){return Object(o["v"])(),Object(o["g"])("div",at,[Object(o["h"])("div",it,[lt,Object(o["h"])("section",bt,[Object(o["h"])("div",{class:"gps-button",onClick:e[0]||(e[0]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.goUseGps&&t.goUseGps.apply(t,e)})},jt),Object(o["h"])("div",{class:"close-button",onClick:e[1]||(e[1]=function(e){return t.$emit("close")})},Ot)])])])}var At=Object(o["l"])({name:"BusStopMapDialog",props:{currentBusStopPostion:{type:Object,default:function(){return{}}}},setup:function(t){var e=this,n=Object(o["y"])(null),c=Object(o["y"])({lat:25.0325917,lng:121.5624999}),u=function(){c.value={lat:Number(t.currentBusStopPostion.lat),lng:Number(t.currentBusStopPostion.lng)},n.value=new window.google.maps.Map(document.getElementById("map"),{center:c.value,zoom:15,maxZoom:20,minZoom:3,streetViewControl:!1,mapTypeControl:!1,disableDefaultUI:!0});new window.google.maps.Marker({position:c.value,map:n.value})},s=function(){window.open("https://www.google.com/maps/dir/"+t.currentBusStopPostion.lat+","+t.currentBusStopPostion.lng)};return Object(o["G"])((function(){return t.currentBusStopPostion}),(function(t){c.value={lat:Number(t.lat),lng:Number(t.lng)},u()})),Object(o["t"])((function(){return Object(X["b"])(e,void 0,void 0,(function(){return Object(X["d"])(this,(function(t){return u(),[2]}))}))})),{goUseGps:s}}});n("3d72");const vt=et()(At,[["render",dt]]);var ht=vt,Bt=n("2498"),mt=n("3312"),St=Object(o["l"])({name:"BusStopInfo",components:{BaseLayout:q["a"],HeaderBar:z["a"],BusInfoCard:K["a"],StopMap:ot,BusStopMapDialog:ht,LoadingPage:Bt["a"]},setup:function(){var t=this,e=T["b"],n=Object(V["c"])(),c=Object(V["d"])(),u=Object(o["y"])(""),s=Object(o["y"])([]),r=Object(o["y"])([]),a=Object(o["y"])([]),i=Object(o["y"])({lat:0,lng:0}),l=Object(o["y"])(!1),b=n.params,p=b.city,g=b.stopName,j=Object(o["y"])(!0),f=function(e){return Object(X["b"])(t,void 0,void 0,(function(){var t,n;return Object(X["d"])(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,J["a"].getOneCityAllBusRouteInfo(e)];case 1:return t=o.sent(),t&&(r.value=t.data),[3,3];case 2:return n=o.sent(),console.log(n),[3,3];case 3:return[2]}}))}))},O=function(t){e.forEach((function(e){t===e.value&&(u.value=e.name)}))},d=function(){return Object(X["b"])(t,void 0,void 0,(function(){var t,e;return Object(X["d"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,J["a"].getBusStopOfRoutesByBusStop(p,g)];case 1:return t=n.sent(),t&&(s.value=t.data),[3,3];case 2:return e=n.sent(),console.log(e),[3,3];case 3:return[2]}}))}))},A=function(){return Object(X["b"])(t,void 0,void 0,(function(){return Object(X["d"])(this,(function(t){return a.value=s.value.reduce((function(t,e){for(var n=0,o=r.value;n<o.length;n++){var c=o[n];e.RouteUID===c.RouteUID&&t.push(c)}return t}),[]),[2]}))}))},v=function(t){c.push("/find-bus-route/"+p+"/"+t)},h=function(){return Object(X["b"])(t,void 0,void 0,(function(){var t,e,n,o,c;return Object(X["d"])(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),j.value=!0,[4,J["a"].getOneBusStopInfo(p,g)];case 1:return t=u.sent(),t&&(e=t.data[1].StopPosition,n=e.PositionLon,o=e.PositionLat,i.value={lat:o,lng:n}),j.value=!1,[3,3];case 2:return c=u.sent(),console.log(c),j.value=!1,[3,3];case 3:return[2]}}))}))},B=function(){var t="查看等等公車的"+u.value+" "+g+"站牌 即時資訊： https://jolinhappy.github.io/find-bus-app/#"+n.fullPath;navigator.clipboard.writeText(t),mt["a"].fire({icon:"success",title:"太棒了！ 複製成功！"})},m=function(){window.open("https://www.google.com/maps/dir/"+i.value.lat+","+i.value.lng)};return Object(o["t"])((function(){return Object(X["b"])(t,void 0,void 0,(function(){return Object(X["d"])(this,(function(t){switch(t.label){case 0:return[4,f(p)];case 1:return t.sent(),[4,d()];case 2:return t.sent(),A(),h(),[2]}}))}))})),{getOneCityAllBusRoute:f,getCurrentCity:O,findBusRoute:v,sharePageInfo:B,goUseGps:m,busRoutes:s,currentCityZhtw:u,stopName:g,currentBusStopAllRoutesInfo:a,currentBusStopPostion:i,isShowStopMap:l,city:p,isLoading:j}},created:function(){this.getCurrentCity(this.city)}});n("b40b");const wt=et()(St,[["render",x]]);e["default"]=wt},aeb4:function(t,e,n){"use strict";n("742f")},b203:function(t,e,n){},b40b:function(t,e,n){"use strict";n("0694")},e5dc:function(t,e,n){},eb22:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATvSURBVHgB7Z39cdQ8EMb33nn/5zqIqSBQwR0VHB2QDkIHpoPQwUEF0MFBBYEKZCpIqOBBGingXO6sXX3b8JvRmGT8sX6yllbSSqzoH08AsNaHC126UTG/e+GOnTv1fkV/GU6cZ/RYjI4eC7Tm3m+xAmqhNmQF6eipJ/1jCi1ej0IszgOd532hQvxHy+M1FeR/Koz2kAv3z5+r1eqeZk4RDzQtn6uXDvrHwZU7/fPetYop+UxLwdRHunzy1MO3lBgUbEQoB7DCHQR2XFNiUEhESgnsp3oDOZ8oAyggIqVC32unyx3COFAmkFlEigXhXjfmhjKCjCJSDPr6TheFOIzXXlBmkElECkVfe4nwT/YBc/0bKgQyiEghmJdGnHgH2Jcp3rGHLDrwQlJgxQtlr8uWKoHaHgj72YZgguns9ZzH9h4ZkBgQ0mAoVPS4ke09MsE1YA25eCa0qT54iRbiQNi6S0LyrlkIaKEnAlmjYVrmS2oAyMULiSrufEZI6r05i6d0uQi47tZnyF5ws1mLF3j9YcoQScgy1zpP4UR4JbjPzZQxB+ZNemoAJBJPeL/+3MUb8FDUAEgsnuC+u3MXHsCjau/C2dpDhpLYPXH/0/eBbXk57KkyyCzexHNMxHHW+/bgMbe+rYqxGdaxXutyhakeFnhxX1XvKy2exLAN06Bq3teseM44ztxGtgkghn09ZCiU/GOD1/oWG4I/sq2HDIXSXwrTsBrD8D1kqBribRiGFf98WxdvnFz0gnH+NyoIbFfpneCSQZftarX6QaUBrwHZUSFa97xTBvuyqAwcL01hSw8ZCrW7lWC0wFSAWYrnDFceQ+8oM7MVzwC/gFmHrsAfxGhKvJaSzDeCcweq1doe0ZKA3AB9oEbEM0gEzN0D4cSYAzUk3iN0fXLrq3QoM5iuh5uo844Ze+DgO7nAC7w6Y4fxzmKeBzsjaToWe3f0vzca6YnAtsZvnPGmFB390c+7PvPufeiFY5qY/80F/HPhu6mLN3796g2mlgD+7uxkJsKaIaCZjVrselv4E4ye9MZ+NyJu4d/geYYRr4kcmNTALpP1Ocdw/IvjOJCzUO+KlskV45zpWBW8enCRnzF407k7303W4CUaNpFQlArwk0j9jgNePLgoL0REMsGpvjCnHjTiLSImhA3UO8apH4kLePPDRda45QT8FGbZWCj4dUKWdb6lAD+RSt6dZP5lDLP8lAVOEjYSD7uAmkMz2flcYD9d7rKG8MEM8DNVFWZSH0K2dCNuHgiyTH3VuoiQL1mLnweHbKpRtSoirOd5R91HpNuGQPhg1ZqIkK80Neem6yhAVukChZfyTwH56vo88S346b9j9qjkjQjfTSTfHx68Yf9jFOrMa4Ssvsw/SILwNbgqp5CwHneN8G1Yyo0wRYj4IOQedgQ4hS0b2E81ZheR8sNzkSI+oOCmLmGFWHueabzsEn+mPWP3rTFEiRe1BSjsCO0HSpv28TA3M96csSPh7rrM57zVc0H8YaoTRO+hqkXs9MFM93U0HwZKlOkQnZ2ljRh0eU6yZPCavNflZasJStKIvySmN7WlOQBbySu0gWlo5jn9gLpCKlTa4Cw5+iW2kG/eE4LxtgMKfqpFdzJ33rDVZeeOHcVjwhEzk/jVHEvvTV11K3jYEMgMWl7S4/9d4Tjmux+Vb+74XZcvJgqgivwChIYQda93oQoAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=busStopInfp.059e2848.js.map