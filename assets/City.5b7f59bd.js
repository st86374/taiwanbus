import{u as $,k as B,l as R,m as s,n as M,o as u,s as N,t as c,e as j,f as e,B as d,w as z,E,z as p,x as o,c as k,y as I,F as S,C as T,d as y}from"./vendor.1559e045.js";import{B as V,c as H,_ as D}from"./Header.8c1aafc2.js";import{a as F}from"./bus.9411f2b4.js";import"./main.4d6ee98a.js";const L={class:"bg-white dark:bg-black relative mt-[48px]"},Z={class:"flex items-center w-full p-3 text-black bg-white border-b-2 dark:text-white border-main dark:bg-black"},_={class:"text-center text-xl min-w-[100px]"},A=["disabled"],G=["disabled"],U=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1),q=[U],J=["onClick"],K={class:"text-xl font-bold"},O={class:"text-right"},P={class:"text-md"},Q={class:"text-sm"},W={key:0,class:"h-[calc(50vh-108px)] p-3 grid grid-cols-5 grid-rows-4 gap-2"},X=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),Y=[X],tt=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z"})],-1),et=[tt],dt={setup(at){const v=$(),w=B(),m=R(),{city:g}=w.params,x=s(),i=s([]);s(null);const r=s(!1),l=s(""),h=async()=>{v.dispatch("handLoadingToggle");try{const n=await F(g);i.value=n.data,v.dispatch("handLoadingToggle")}catch(n){console.log(n)}},f=n=>{H.forEach(t=>{t.value===g&&(x.value=t.name)})},C=()=>l.value===""?i.value:i.value.filter(t=>t.RouteName.Zh_tw.includes(l.value)),b=(n,t)=>{switch(n){case"clear":l.value="";break;case"back":l.value===""?l.value="":l.value=l.value.slice(0,-1);break;case"more":r.value=!0;let a=document.createElement("input");document.body.appendChild(a),a.focus(),setTimeout(()=>{document.getElementById("searchInput").focus(),document.getElementById("searchInput").click(),document.body.removeChild(a)},0);break}};return M(()=>{h(),f()}),(n,t)=>(u(),N(V,null,{header:c(()=>[j(D)]),body:c(()=>[e("div",L,[e("div",Z,[e("p",_,d(x.value),1),z(e("input",{class:"w-full px-2 py-1 bg-white border border-gray-400 rounded dark:bg-black flex-2",placeholder:"\u641C\u5C0B\u516C\u8ECA\u865F",id:"searchInput",type:"text",disabled:!r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>l.value=a)},null,8,A),[[E,l.value]]),e("button",{class:p(["pl-2 text-center",{"text-transparent":!r.value,"text-main":r.value}]),onClick:t[1]||(t[1]=o(a=>r.value=!1,["prevent"])),disabled:!r.value},q,10,G)]),e("div",{class:p(["dark:text-white px-3 h-[50vh] overflow-y-scroll",{"h-[50vh]":!r.value,"h-[calc(100vh-108px)]":r.value}])},[(u(!0),k(S,null,I(C(),a=>(u(),k("a",{class:"flex items-center justify-between block p-3 my-3 duration-300 ease-in-out bg-gray-200 rounded-lg dark:bg-gray-800 hover:bg-main hover:text-white",key:a.RouteID,onClick:o(lt=>y(m).push(`/bus/${y(g)}/${a.RouteName.Zh_tw}`),["prevent"])},[e("p",K,d(a.RouteName.Zh_tw),1),e("div",O,[e("p",P,d(a.DepartureStopNameZh)+" - "+d(a.DestinationStopNameZh),1),e("p",Q,d(a.SubRoutes[0].FirstBusTime?`${a.SubRoutes[0].FirstBusTime}-${a.SubRoutes[0].LastBusTime}`:"-"),1)])],8,J))),128))],2),r.value?T("",!0):(u(),k("div",W,[e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[2]||(t[2]=o(a=>l.value+="\u7D05",["prevent"]))}," \u7D05 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[3]||(t[3]=o(a=>l.value+="\u85CD",["prevent"]))}," \u85CD "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[4]||(t[4]=o(a=>l.value+="1",["prevent"]))}," 1 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[5]||(t[5]=o(a=>l.value+="2",["prevent"]))}," 2 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[6]||(t[6]=o(a=>l.value+="3",["prevent"]))}," 3 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[7]||(t[7]=o(a=>l.value+="\u7DA0",["prevent"]))}," \u7DA0 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[8]||(t[8]=o(a=>l.value+="\u68D5",["prevent"]))}," \u68D5 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[9]||(t[9]=o(a=>l.value+="4",["prevent"]))}," 4 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[10]||(t[10]=o(a=>l.value+="5",["prevent"]))}," 5 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[11]||(t[11]=o(a=>l.value+="6",["prevent"]))}," 6 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[12]||(t[12]=o(a=>l.value+="\u6A58",["prevent"]))}," \u6A58 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[13]||(t[13]=o(a=>l.value+="\u5C0F",["prevent"]))}," \u5C0F "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[14]||(t[14]=o(a=>l.value+="7",["prevent"]))}," 7 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[15]||(t[15]=o(a=>l.value+="8",["prevent"]))}," 8 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[16]||(t[16]=o(a=>l.value+="9",["prevent"]))}," 9 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[17]||(t[17]=o(a=>b("more"),["prevent"]))}," \u66F4\u591A "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[18]||(t[18]=o(a=>l.value+="\u5E79\u7DDA",["prevent"]))}," \u5E79\u7DDA "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[19]||(t[19]=o(a=>b("clear"),["prevent"]))},Y),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[20]||(t[20]=o(a=>l.value+="0",["prevent"]))}," 0 "),e("button",{class:"text-lg font-bold text-black bg-gray-200 rounded-lg dark:text-white dark:bg-gray-800",onClick:t[21]||(t[21]=o(a=>b("back"),["prevent"]))},et)]))])]),_:1}))}};export{dt as default};
